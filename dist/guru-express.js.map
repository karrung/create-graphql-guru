{"version":3,"sources":["../src/guru-express.js"],"names":["dest","process","cwd","template","join","__dirname","pkgPath","pkg","require","cd","cp","exec","error","mkdir","parse","argv","appName","args","appFolder","name","createFolder","folder","exit","stdout","write","copyTemplate","updatePackage","writeFile","JSON","stringify","install","run"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,OAAOC,QAAQC,GAAR,EAAb;AACA,IAAMC,WAAW,eAAKC,IAAL,CAAUC,SAAV,EAAqB,wBAArB,CAAjB;AACA,IAAMC,UAAU,eAAKF,IAAL,CAAUC,SAAV,EAAqB,mCAArB,CAAhB;AACA,IAAME,MAAMC,QAAQF,OAAR,CAAZ;IACQG,E,qBAAAA,E;IAAIC,E,qBAAAA,E;IAAIC,I,qBAAAA,I;IAAMC,K,qBAAAA,K;IAAOC,K,qBAAAA,K;;;AAE7B,oBAAQC,KAAR,CAAcb,QAAQc,IAAtB;AACA,IAAMC,UAAU,oBAAQC,IAAR,CAAa,CAAb,CAAhB;AACA,IAAMC,YAAelB,IAAf,SAAuBgB,OAA7B;;AAEAT,IAAIY,IAAJ,GAAWH,OAAX;;AAEA,SAASI,YAAT,CAAuBC,MAAvB,EAA+B;AAC7BR,QAAMQ,MAAN;AACAT,YACIX,QAAQqB,IAAR,EADJ,GAEIrB,QAAQsB,MAAR,CAAeC,KAAf,cAAgCR,OAAhC,gBAFJ;AAGD;;AAED,SAASS,YAAT,GAAyB;AACvBf,KAAG,IAAH,EAASP,QAAT,EAAmBe,SAAnB;AACAN,YACIX,QAAQqB,IAAR,EADJ,GAEIrB,QAAQsB,MAAR,CAAeC,KAAf,wCAFJ;AAGD;;AAED,SAASE,aAAT,GAA0B;AACxB,eAAGC,SAAH,CACKT,SADL,oBAEEU,KAAKC,SAAL,CAAetB,GAAf,EAAoB,IAApB,EAA0B,CAA1B,CAFF,EAGE,iBAAS;AACPK,YAAQX,QAAQqB,IAAR,EAAR,GAAyBrB,QAAQsB,MAAR,CAAeC,KAAf,2BAAzB;AACD,GALH;AAOD;;AAED,SAASM,OAAT,GAAoB;AAClBrB,KAAGS,SAAH;AACAP,OAAK,cAAL;AACAC,YAAUX,QAAQqB,IAAR,EAAV,GAA2BrB,QAAQsB,MAAR,CAAeC,KAAf,4BAA3B;AACD;;AAED,SAASO,GAAT,GAAgB;AACdX,eAAaJ,OAAb;AACAS;AACAC;AACAI;AACD;;AAEDC","file":"guru-express.js","sourcesContent":["import program from 'commander';\nimport shell from 'shelljs';\nimport path from 'path';\nimport fs from 'fs';\n\nconst dest = process.cwd();\nconst template = path.join(__dirname, '../templates/express/*');\nconst pkgPath = path.join(__dirname, '../templates/express/package.json');\nconst pkg = require(pkgPath);\nconst { cd, cp, exec, error, mkdir } = shell;\n\nprogram.parse(process.argv);\nconst appName = program.args[0];\nconst appFolder = `${dest}/${appName}`;\n\npkg.name = appName;\n\nfunction createFolder (folder) {\n  mkdir(folder);\n  error()\n    ? process.exit()\n    : process.stdout.write(`Created ${appName} folder \\n`);\n}\n\nfunction copyTemplate () {\n  cp('-R', template, appFolder);\n  error()\n    ? process.exit()\n    : process.stdout.write(`Express files copied to app folder\\n`);\n}\n\nfunction updatePackage () {\n  fs.writeFile(\n    `${appFolder}/package.json`,\n    JSON.stringify(pkg, null, 2),\n    error => {\n      error ? process.exit() : process.stdout.write(`Updated package name \\n`);\n    }\n  );\n}\n\nfunction install () {\n  cd(appFolder);\n  exec('yarn install');\n  error() ? process.exit() : process.stdout.write(`Dependencies installed\\n`);\n}\n\nfunction run () {\n  createFolder(appName);\n  copyTemplate();\n  updatePackage();\n  install();\n}\n\nrun();\n"]}